'''
Created on May 12, 2013

@author: Arjun
'''
import socket
import string
import urllib

HOST = "irc.snoonet.org"
PORT = 6667
NICK = "Twaltbot"
IDENT = "Twaltbot"
REALNAME = "Twaltbot"
readbuffer = ""

sock = socket.socket();
sock.connect((HOST, PORT))
sock.send(b"NICK %s\r\n" % NICK)
sock.send(b"USER %s %s bla :%s\r\n" % (IDENT, HOST, REALNAME))
sock.send(b"JOIN #korean, \r\n")


while 1:
    readbuffer=readbuffer+sock.recv(1024)
    temp=string.split(readbuffer, "\n")
    readbuffer=temp.pop( )


    for line in temp:
        line=string.rstrip(line)
        line=string.split(line)
        print line
        if line[0] == "PING":
            sock.send("PONG %s\r\n" % line[1])


